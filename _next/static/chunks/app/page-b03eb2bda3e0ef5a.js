(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{835:(e,a,s)=>{Promise.resolve().then(s.bind(s,9839))},4838:(e,a,s)=>{"use strict";s.d(a,{Hr:()=>x,Ht:()=>p,SQ:()=>f,_2:()=>u,mB:()=>h,rI:()=>c,ty:()=>m});var l=s(5155),t=s(2115),n=s(8698),o=s(3158),r=s(518),i=s(154),d=s(9434);let c=n.bL,m=n.l9;n.YJ,n.ZL,n.Pb;let x=n.z6;t.forwardRef((e,a)=>{let{className:s,inset:t,children:r,...i}=e;return(0,l.jsxs)(n.ZP,{ref:a,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",s),...i,children:[r,(0,l.jsx)(o.A,{className:"ml-auto"})]})}).displayName=n.ZP.displayName,t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,l.jsx)(n.G5,{ref:a,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t})}).displayName=n.G5.displayName;let f=t.forwardRef((e,a)=>{let{className:s,sideOffset:t=4,...o}=e;return(0,l.jsx)(n.ZL,{children:(0,l.jsx)(n.UC,{ref:a,sideOffset:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...o})})});f.displayName=n.UC.displayName;let u=t.forwardRef((e,a)=>{let{className:s,inset:t,...o}=e;return(0,l.jsx)(n.q7,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",s),...o})});u.displayName=n.q7.displayName,t.forwardRef((e,a)=>{let{className:s,children:t,checked:o,...i}=e;return(0,l.jsxs)(n.H_,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:o,...i,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(n.VF,{children:(0,l.jsx)(r.A,{className:"h-4 w-4"})})}),t]})}).displayName=n.H_.displayName;let p=t.forwardRef((e,a)=>{let{className:s,children:t,...o}=e;return(0,l.jsxs)(n.hN,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...o,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(n.VF,{children:(0,l.jsx)(i.A,{className:"h-2 w-2 fill-current"})})}),t]})});p.displayName=n.hN.displayName,t.forwardRef((e,a)=>{let{className:s,inset:t,...o}=e;return(0,l.jsx)(n.JU,{ref:a,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",s),...o})}).displayName=n.JU.displayName;let h=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,l.jsx)(n.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...t})});h.displayName=n.wv.displayName},9839:(e,a,s)=>{"use strict";s.d(a,{default:()=>I});var l=s(5155),t=s(2115),n=s(8856),o=s(6695),r=s(285),i=s(5057);let d=JSON.parse('{"u0":[{"name":"Rojo Pastel","value":"rojo-pastel","hexColor":"#fecaca"},{"name":"Azul Cielo","value":"azul-cielo","hexColor":"#bfdbfe"},{"name":"Verde Menta","value":"verde-menta","hexColor":"#bbf7d0"},{"name":"Rosa Beb\xe9","value":"rosa-bebe","hexColor":"#fbcfe8"},{"name":"Beige Arena","value":"beige-arena","hexColor":"#f5e7c4"},{"name":"Marr\xf3n Claro","value":"marron-claro","hexColor":"#E5D8CF"},{"name":"Blanco Nieve","value":"blanco-nieve","hexColor":"#FFFFFF"},{"name":"Negro \xd3nix","value":"negro-onix","hexColor":"#1f2937"},{"name":"Rosa Pastel","value":"rosa-pastel-fuerte","hexColor":"#FFD1DC"}],"mo":[{"name":"Vainilla","value":"vainilla","hexColor":"#f3e5ab"},{"name":"Lavanda","value":"lavanda","hexColor":"#e6e6fa"},{"name":"Canela","value":"canela","hexColor":"#d2691e"},{"name":"Frutos Rojos","value":"frutos-rojos","hexColor":"#dc143c"},{"name":"Jazm\xedn","value":"jazmin","hexColor":"#f8f8ff"},{"name":"Sin Aroma","value":"sin-aroma","hexColor":"#f5f5f5"}],"nz":[{"id":"1","name":"Amor Perruno","price":10,"imageUrls":["/images/candles/amorperruno_1.jpeg"],"dataAiHint":"vanilla cream"},{"id":"2","name":"Infinito y M\xe1s All\xe1","price":8.5,"imageUrls":["/images/candles/InfinitoyMasAlla_1.jpeg","/images/candles/InfinitoyMasAlla_2.jpeg"],"dataAiHint":"lavender field"},{"id":"3","name":"Home","price":10,"imageUrls":["/images/candles/home.jpeg","/images/candles/home2.jpeg"],"dataAiHint":"citrus burst"},{"id":"4","name":"Luna lunera","price":9,"imageUrls":["/images/candles/lunalunera_1.jpeg","/images/candles/lunalunera_2.jpeg"],"dataAiHint":"sandalwood logs"},{"id":"5","name":"Felicidad de Rosa","price":5,"imageUrls":["/images/candles/rosa.jpeg"],"dataAiHint":"pink rose"},{"id":"6","name":"Belleza","price":10.5,"imageUrls":["/images/candles/belleza.jpeg"],"dataAiHint":"ocean wave"},{"id":"7","name":"Bosque Encantado","price":11.5,"imageUrls":["/images/candles/bosque.jpeg"],"dataAiHint":"enchanted forest"},{"id":"8","name":"Gatuno","price":9.5,"imageUrls":["/images/candles/gatuno_1.jpeg","/images/candles/gatuno_2.jpeg"],"dataAiHint":"coconut palm"}]}'),c=d.u0,m=d.mo;var x=s(4469),f=s(7481),u=s(8376),p=s(4815),h=s(7492),g=s(6350),j=s(9434),N=s(9613);let v=N.Kq,w=N.bL,b=N.l9,y=t.forwardRef((e,a)=>{let{className:s,sideOffset:t=4,...n}=e;return(0,l.jsx)(N.UC,{ref:a,sideOffset:t,className:(0,j.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})});y.displayName=N.UC.displayName;var C=s(4838),A=s(9556);let E=e=>{let{option:a}=e;return(0,l.jsx)("span",{className:"h-5 w-5 rounded-full border",style:{backgroundColor:a.hexColor}})};function _(e){let{options:a,selectedOption:s,onSelectOption:t,optionType:n}=e;return(0,l.jsxs)(C.rI,{children:[(0,l.jsxs)(w,{children:[(0,l.jsx)(b,{asChild:!0,children:(0,l.jsx)(C.ty,{asChild:!0,children:(0,l.jsxs)(r.$,{variant:"outline",size:"sm",className:"h-auto rounded-full flex items-center justify-center p-1 gap-1","aria-label":"Seleccionar ".concat(n),children:[(0,l.jsx)(E,{option:s}),(0,l.jsx)(A.A,{className:"h-4 w-4 opacity-60"})]})})}),(0,l.jsx)(y,{children:(0,l.jsxs)("p",{children:["Cambiar ","color"===n?"Color":"Aroma"]})})]}),(0,l.jsx)(C.SQ,{className:"w-56",children:(0,l.jsx)(C.Hr,{value:s.value,onValueChange:e=>{let s=a.find(a=>a.value===e);s&&t(s)},children:a.map(e=>(0,l.jsxs)(C.Ht,{value:e.value,className:"flex items-center gap-2 cursor-pointer",children:[(0,l.jsx)(E,{option:e}),(0,l.jsx)("span",{children:e.name})]},e.value))})})]})}function z(e){let{candle:a,onImageLoad:s,className:n}=e,[d,N]=(0,t.useState)(c[0]),[w,b]=(0,t.useState)(m[0]),[y,C]=(0,t.useState)(0),[A,E]=(0,t.useState)(!1),{addToCart:z}=(0,t.useContext)(x.M),{toast:H}=(0,f.dj)(),U=(0,j.G)(d.hexColor)?{}:{color:d.hexColor},R=(0,j.G)(w.hexColor)?{}:{color:w.hexColor};return(0,l.jsxs)(v,{children:[(0,l.jsx)(g.A,{imageUrls:a.imageUrls,startIndex:y,altText:"Zoom de ".concat(a.name),dataAiHint:a.dataAiHint,open:A,onOpenChange:()=>{E(!1)}}),(0,l.jsxs)(o.Zp,{className:(0,j.cn)("flex flex-col overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300 bg-card h-full",n),children:[(0,l.jsx)(o.aR,{className:"p-0 relative",children:(0,l.jsx)(h.A,{imageUrls:a.imageUrls,altText:a.name,dataAiHint:a.dataAiHint,aspectRatio:"aspect-[4/3]",placeholderDimensions:"400x300",onImageClick:e=>{C(e),E(!0)},onImageLoad:s})}),(0,l.jsxs)("div",{className:"p-5 flex flex-col flex-grow",children:[(0,l.jsx)(o.ZB,{className:"text-xl font-semibold text-card-foreground",children:a.name}),(0,l.jsxs)(o.Wu,{className:"p-0 pt-3 flex flex-col flex-grow",children:[(0,l.jsxs)("div",{className:"space-y-4 flex-grow",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(i.J,{className:"text-sm font-medium text-muted-foreground whitespace-nowrap w-[50px]",children:"Color:"}),(0,l.jsx)(_,{options:c,selectedOption:d,onSelectOption:N,optionType:"color",uniqueIdPrefix:"".concat(a.id,"-color")}),(0,l.jsx)("span",{className:"text-xs font-medium italic ml-2",style:U,children:d.name})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(i.J,{className:"text-sm font-medium text-muted-foreground whitespace-nowrap w-[50px]",children:"Aroma:"}),(0,l.jsx)(_,{options:m,selectedOption:w,onSelectOption:b,optionType:"scent",uniqueIdPrefix:"".concat(a.id,"-scent")}),(0,l.jsx)("span",{className:"text-xs font-medium italic ml-2",style:R,children:w.name})]})]}),(0,l.jsxs)("div",{className:"mt-4 pt-4 border-t flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,l.jsxs)("p",{className:"text-2xl font-bold text-primary",children:["â‚¬",a.price.toFixed(2)]}),(0,l.jsxs)(r.$,{onClick:()=>{z(a,d,w),H({title:"\xa1A\xf1adido al carrito!",description:"".concat(a.name," (Color: ").concat(d.name,", Aroma: ").concat(w.name,") ha sido a\xf1adido a tu carrito."),action:(0,l.jsx)(u.A,{className:"h-5 w-5 text-green-500"})})},variant:"default",className:"w-full sm:w-auto",children:[(0,l.jsx)(p.A,{className:"mr-2 h-5 w-5"}),"Comprar"]})]})]})]})]})]})}let H=()=>(0,l.jsxs)(o.Zp,{className:"flex flex-col overflow-hidden shadow-lg bg-card h-full",children:[(0,l.jsx)(n.E,{className:"aspect-[4/3] w-full"}),(0,l.jsxs)(o.Wu,{className:"p-6 flex-grow space-y-4",children:[(0,l.jsx)(n.E,{className:"h-6 w-3/4 mb-2"}),(0,l.jsx)("div",{className:"space-y-2",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(n.E,{className:"h-4 w-12"}),(0,l.jsx)(n.E,{className:"h-7 w-7 rounded-full"}),(0,l.jsx)(n.E,{className:"h-3 w-16"})]})}),(0,l.jsx)("div",{className:"space-y-2",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(n.E,{className:"h-4 w-12"}),(0,l.jsx)(n.E,{className:"h-7 w-7 rounded-full"}),(0,l.jsx)(n.E,{className:"h-3 w-16"})]})})]}),(0,l.jsxs)(o.wL,{className:"p-6 pt-4 flex flex-col sm:flex-row justify-between items-center gap-4 border-t mt-auto",children:[(0,l.jsx)(n.E,{className:"h-8 w-1/4"}),(0,l.jsx)(n.E,{className:"h-10 w-2/5"})]})]});function U(e){var a;let{candle:s}=e,[n,o]=(0,t.useState)(!1),r=(null===(a=s.imageUrls)||void 0===a?void 0:a[0])||"/placeholder.png";return((0,t.useEffect)(()=>{let e=new window.Image;e.src=r,e.onload=()=>o(!0),e.onerror=()=>o(!0)},[r]),n)?(0,l.jsx)(z,{candle:s,className:"animate-fadeIn"}):(0,l.jsx)(H,{})}let R=d.nz;async function F(e){return await new Promise(e=>setTimeout(e,1e3)),R.slice(e,e+6)}var S=s(172);let k=()=>(0,l.jsxs)(o.Zp,{className:"flex flex-col overflow-hidden shadow-lg bg-card h-full",children:[(0,l.jsx)(n.E,{className:"aspect-[4/3] w-full"}),(0,l.jsxs)(o.Wu,{className:"p-6 flex-grow space-y-4",children:[(0,l.jsx)(n.E,{className:"h-6 w-3/4 mb-2"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(n.E,{className:"h-4 w-1/3"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,l.jsx)(n.E,{className:"h-5 w-5 rounded-full"}),(0,l.jsx)(n.E,{className:"h-5 w-5 rounded-full"}),(0,l.jsx)(n.E,{className:"h-5 w-5 rounded-full"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(n.E,{className:"h-4 w-1/3"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,l.jsx)(n.E,{className:"h-5 w-5 rounded-full"}),(0,l.jsx)(n.E,{className:"h-5 w-5 rounded-full"}),(0,l.jsx)(n.E,{className:"h-5 w-5 rounded-full"})]})]})]}),(0,l.jsxs)(o.wL,{className:"p-6 pt-4 flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,l.jsx)(n.E,{className:"h-8 w-1/4"}),(0,l.jsx)(n.E,{className:"h-10 w-2/5"})]})]});function I(e){let{initialCandles:a,totalCandles:s}=e,[n,o]=(0,t.useState)(a),[r,i]=(0,t.useState)(a.length),[d,c]=(0,t.useState)(!1),[m,x]=(0,t.useState)(a.length<s),f=(0,t.useRef)(null),u=(0,t.useCallback)(async()=>{if(!d&&m){c(!0);try{let e=await F(r);e.length>0?(o(a=>[...a,...e]),i(a=>a+e.length),x(r+e.length<s)):x(!1)}catch(e){console.error("Failed to fetch more candles:",e)}finally{c(!1)}}},[r,d,m,s]);return(0,t.useEffect)(()=>{let e=new IntersectionObserver(e=>{e[0].isIntersecting&&u()},{threshold:1}),a=f.current;return a&&e.observe(a),()=>{a&&e.unobserve(a)}},[u]),(0,t.useEffect)(()=>{x(n.length<s)},[n.length,s]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[n.map(e=>(0,l.jsx)(U,{candle:e},e.id)),d&&Array.from({length:3}).map((e,a)=>(0,l.jsx)(k,{},"skeleton-".concat(a)))]}),(0,l.jsxs)("div",{ref:f,className:"flex justify-center items-center py-8",children:[m&&!d&&(0,l.jsx)("button",{onClick:u,className:"text-primary hover:underline","aria-live":"polite","aria-busy":"false",children:"Cargar m\xe1s velas..."}),d&&(0,l.jsxs)("div",{className:"flex items-center text-muted-foreground","aria-live":"polite","aria-busy":"true",children:[(0,l.jsx)(S.A,{className:"mr-2 h-6 w-6 animate-spin"}),"Cargando m\xe1s velas..."]}),!m&&n.length>0&&(0,l.jsx)("p",{className:"text-muted-foreground text-sm italic",children:"Has llegado al final de nuestro cat\xe1logo."}),0===n.length&&!d&&(0,l.jsx)("p",{className:"text-muted-foreground text-center col-span-full",children:"No hay velas disponibles en este momento."})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[51,517,889,577,367,441,684,358],()=>a(835)),_N_E=e.O()}]);