(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[287],{7730:(e,s,a)=>{Promise.resolve().then(a.bind(a,9151))},9151:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>W});var t=a(5155),l=a(2115),r=a(4469),n=a(285),i=a(9434);let c=l.forwardRef((e,s)=>{let{className:a,type:l,...r}=e;return(0,t.jsx)("input",{type:l,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...r})});c.displayName="Input";var d=a(2011),o=a(4301),m=a(7223),x=a(6874),u=a.n(x),f=a(7492),p=a(6350);function h(e){let{item:s}=e,{removeFromCart:a,updateQuantity:i}=(0,l.useContext)(r.M),[x,h]=(0,l.useState)(0),[j,N]=(0,l.useState)(!1),g=e=>{i(s.id,e)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.A,{imageUrls:s.candle.imageUrls,startIndex:x,altText:"Zoom de ".concat(s.candle.name),dataAiHint:s.candle.dataAiHint,open:j,onOpenChange:()=>{N(!1)}}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between p-4 border-b bg-card rounded-lg shadow mb-4 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[(0,t.jsx)("div",{className:"relative h-24 w-24 rounded-md overflow-hidden bg-muted/50 cursor-pointer flex-shrink-0",children:(0,t.jsx)(f.A,{imageUrls:s.candle.imageUrls,altText:s.candle.name,dataAiHint:s.candle.dataAiHint,aspectRatio:"aspect-square",placeholderDimensions:"96x96",onImageClick:e=>{h(e),N(!0)}})}),(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)(u(),{href:"/#catalog",passHref:!0,children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-card-foreground hover:text-primary",children:s.candle.name})}),(0,t.jsxs)("div",{className:"flex items-center my-1",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground mr-2",children:"Color:"}),s.color?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"h-5 w-5 rounded-full border",style:{backgroundColor:s.color.hexColor},title:s.color.name}),(0,t.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:s.color.name})]}):(0,t.jsx)("span",{className:"text-sm text-muted-foreground italic",children:"No especificado"})]}),(0,t.jsxs)("div",{className:"flex items-center my-1",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground mr-2",children:"Aroma:"}),s.scent?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"h-5 w-5 rounded-full border",style:{backgroundColor:s.scent.hexColor},title:s.scent.name}),(0,t.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:s.scent.name})]}):(0,t.jsx)("span",{className:"text-sm text-muted-foreground italic",children:"No especificado"})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Precio unitario: €",s.candle.price.toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between w-full mt-4 sm:mt-0 sm:w-auto sm:justify-end sm:gap-6 gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,t.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>g(s.quantity-1),disabled:s.quantity<=1,"aria-label":"Reducir cantidad",children:(0,t.jsx)(d.A,{className:"h-5 w-5"})}),(0,t.jsx)(c,{type:"number",value:s.quantity,onChange:e=>{let s=parseInt(e.target.value,10);isNaN(s)||g(s)},min:"1",className:"w-12 sm:w-16 text-center","aria-label":"Cantidad para ".concat(s.candle.name)}),(0,t.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>g(s.quantity+1),"aria-label":"Aumentar cantidad",children:(0,t.jsx)(o.A,{className:"h-5 w-5"})})]}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-primary text-center sm:min-w-[80px]",children:["€",(s.candle.price*s.quantity).toFixed(2)]}),(0,t.jsxs)(n.$,{variant:"ghost",size:"icon",onClick:()=>a(s.id),className:"text-destructive hover:text-destructive/80","aria-label":"Eliminar art\xedculo",children:[(0,t.jsx)(m.A,{className:"h-5 w-5"})," "]})]})]})]})}var j=a(7489);let N=l.forwardRef((e,s)=>{let{className:a,orientation:l="horizontal",decorative:r=!0,...n}=e;return(0,t.jsx)(j.b,{ref:s,decorative:r,orientation:l,className:(0,i.cn)("shrink-0 bg-border","horizontal"===l?"h-[1px] w-full":"h-full w-[1px]",a),...n})});N.displayName=j.b.displayName;var g=a(8376),b=a(1949),w=a(2625),v=a(7374),y=a(4579),C=a(594),E=a(2741),k=a(154);let A=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(E.bL,{className:(0,i.cn)("grid gap-2",a),...l,ref:s})});A.displayName=E.bL.displayName;let P=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(E.q7,{ref:s,className:(0,i.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...l,children:(0,t.jsx)(E.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(k.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});P.displayName=E.q7.displayName;var F=a(5057),z=a(6695),D=a(7649);let I=D.bL,R=D.l9,q=D.ZL,T=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(D.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l,ref:s})});T.displayName=D.hJ.displayName;let O=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsxs)(q,{children:[(0,t.jsx)(T,{}),(0,t.jsx)(D.UC,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l})]})});O.displayName=D.UC.displayName;let S=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...a})};S.displayName="AlertDialogHeader";let L=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};L.displayName="AlertDialogFooter";let V=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(D.hE,{ref:s,className:(0,i.cn)("text-lg font-semibold",a),...l})});V.displayName=D.hE.displayName;let Z=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(D.VY,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...l})});Z.displayName=D.VY.displayName;let M=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(D.rc,{ref:s,className:(0,i.cn)((0,n.r)(),a),...l})});M.displayName=D.rc.displayName;let $=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(D.ZD,{ref:s,className:(0,i.cn)((0,n.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...l})});$.displayName=D.ZD.displayName;var B=a(8565),H=a(7481),U=a(8856);let _=()=>(0,t.jsxs)("div",{children:[[void 0,void 0].map((e,s)=>(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between p-4 border-b bg-card rounded-lg shadow mb-4 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[(0,t.jsx)(U.E,{className:"h-24 w-24 rounded-md flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-grow space-y-2",children:[(0,t.jsx)(U.E,{className:"h-6 w-40"}),(0,t.jsx)(U.E,{className:"h-4 w-24"}),(0,t.jsx)(U.E,{className:"h-4 w-24"}),(0,t.jsx)(U.E,{className:"h-4 w-32"})]})]}),(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between w-full mt-4 sm:mt-0 sm:w-auto sm:justify-end sm:gap-6 gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,t.jsx)(U.E,{className:"h-10 w-10 rounded-full"}),(0,t.jsx)(U.E,{className:"h-10 w-16"}),(0,t.jsx)(U.E,{className:"h-10 w-10 rounded-full"})]}),(0,t.jsx)(U.E,{className:"h-7 w-20"}),(0,t.jsx)(U.E,{className:"h-10 w-10"})]})]},"skel-item-".concat(s))),(0,t.jsx)(N,{className:"my-6"}),(0,t.jsxs)(z.Zp,{className:"mb-6 shadow-md",children:[(0,t.jsx)(z.aR,{className:"p-4 pb-0",children:(0,t.jsx)(U.E,{className:"h-6 w-48"})}),(0,t.jsxs)(z.Wu,{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-md",children:[(0,t.jsx)(U.E,{className:"h-5 w-5 rounded-full"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(U.E,{className:"h-5 w-1/2"}),(0,t.jsx)(U.E,{className:"h-3 w-3/4"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-md",children:[(0,t.jsx)(U.E,{className:"h-5 w-5 rounded-full"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(U.E,{className:"h-5 w-1/2"}),(0,t.jsx)(U.E,{className:"h-3 w-3/4"})]})]})]})]}),(0,t.jsxs)(z.Zp,{className:"mb-6 shadow-md",children:[(0,t.jsx)(z.aR,{className:"p-4 pb-0",children:(0,t.jsx)(U.E,{className:"h-6 w-40"})}),(0,t.jsxs)(z.Wu,{className:"p-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(U.E,{className:"h-5 w-24"})," ",(0,t.jsx)(U.E,{className:"h-5 w-16"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(U.E,{className:"h-5 w-32"})," ",(0,t.jsx)(U.E,{className:"h-5 w-16"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(U.E,{className:"h-5 w-20"})," ",(0,t.jsx)(U.E,{className:"h-5 w-16"})]}),(0,t.jsx)(N,{className:"my-2"}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(U.E,{className:"h-6 w-28"})," ",(0,t.jsx)(U.E,{className:"h-6 w-20"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center p-4 bg-card rounded-lg shadow gap-4",children:[(0,t.jsx)(U.E,{className:"h-10 w-44"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6 w-full sm:w-auto sm:ml-auto",children:[(0,t.jsx)(U.E,{className:"h-8 w-32"}),(0,t.jsx)(U.E,{className:"h-12 w-40"})]})]})]});function J(){let{cartItems:e,getSubtotal:s,getPackagingCost:a,getShippingCost:i,getTotalPrice:c,clearCart:d,getItemCount:o,packagingOption:x,updatePackagingOption:f,isCartLoaded:p}=(0,l.useContext)(r.M),{toast:j}=(0,H.dj)(),[E,k]=(0,l.useState)(null),[D,q]=(0,l.useState)(!1),[T,U]=(0,l.useState)(!1),J=(0,l.useRef)(!1),W=o(),Y=i(),Q=t=>{if(0===e.length&&!t)return"";let l="Estimado equipo de Marivelas,\n\n";return l+="Quisiera realizar el siguiente pedido con ID: ".concat(t,"\n\n"),e.forEach(e=>{l+="- ".concat(e.candle.name," (Color: ").concat(e.color.name,", Aroma: ").concat(e.scent.name,") x ").concat(e.quantity," - €").concat((e.candle.price*e.quantity).toFixed(2),"\n")}),l+="\nSubtotal: €".concat(s.toFixed(2),"\n"),l+="Coste de Packaging (".concat(x,"): €").concat(a.toFixed(2),"\n"),l+="Coste de Env\xedo: €".concat(Y.toFixed(2),"\n"),l+="-------------------------------------\n",l+="TOTAL DEL PEDIDO: €".concat(c.toFixed(2),"\n"),l+="-------------------------------------\n\n",l+="Mis datos de contacto son:\n",l+="[Por favor, completa aqu\xed tu Nombre, Email y Tel\xe9fono si es necesario]\n"},G=(0,l.useMemo)(()=>E?Q(E):"",[e,c,E,x,s,a,Y]),K=async()=>{if(!E||!G)return;let e="\nInstrucciones para Finalizar tu Pedido (ID: ".concat(E,"):\n\nPASO 1: Env\xeda un Correo Electr\xf3nico\n------------------------------------\nA: ").concat(B.Fk,"\nAsunto: Nuevo Pedido - ID: ").concat(E,"\nCuerpo del Correo (copia y pega el siguiente resumen):\n").concat(G,"\n\nPASO 2: Realiza el Pago\n------------------------------------\nImporte TOTAL DEL PEDIDO: €").concat(c.toFixed(2),"\nM\xe9todo: Bizum (el n\xfamero se te facilitar\xe1 por correo electr\xf3nico tras recibir tu email de pedido).\nConcepto del Bizum (indica tu ID de pedido): ").concat(E,"\n\nPASO 3: Confirmaci\xf3n\n------------------------------------\nTu pedido comenzar\xe1 a elaborarse una vez recibido tanto el correo electr\xf3nico como la confirmaci\xf3n del pago.\n\nPor favor, aseg\xfarate de completar todos los pasos.\n    ");try{await navigator.clipboard.writeText(e.trim()),j({title:"\xa1Instrucciones Copiadas!",description:"Las instrucciones del pedido se han copiado a tu portapapeles.",action:(0,t.jsx)(g.A,{className:"h-5 w-5 text-green-500"})})}catch(e){j({title:"Error al Copiar",description:"No se pudieron copiar las instrucciones. Por favor, int\xe9ntalo manualmente.",variant:"destructive",action:(0,t.jsx)(b.A,{className:"h-5 w-5"})}),console.error("Failed to copy instructions: ",e)}};return p?0===e.length?(0,t.jsxs)("div",{className:"text-center py-10",children:[(0,t.jsx)(w.A,{className:"h-24 w-24 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-xl text-muted-foreground mb-6",children:"Tu carrito est\xe1 vac\xedo."}),(0,t.jsx)(n.$,{asChild:!0,children:(0,t.jsx)(u(),{href:"/#catalog",children:"Continuar Comprando"})})]}):(0,t.jsxs)("div",{children:[e.map(e=>(0,t.jsx)(h,{item:e},e.id)),(0,t.jsx)(N,{className:"my-6"}),(0,t.jsxs)(z.Zp,{className:"mb-6 shadow-md",children:[(0,t.jsx)(z.aR,{className:"p-6 pb-0",children:(0,t.jsx)(z.ZB,{className:"text-xl",children:"Opciones de Packaging"})}),(0,t.jsx)(z.Wu,{className:"p-6 pt-4",children:(0,t.jsxs)(A,{value:x,onValueChange:e=>f(e),className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-md hover:bg-muted/50 transition-colors",children:[(0,t.jsx)(P,{value:"standard",id:"standard-packaging"}),(0,t.jsxs)(F.J,{htmlFor:"standard-packaging",className:"flex-1 cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)(v.A,{className:"inline mr-2 h-5 w-5"}),"Packaging Est\xe1ndar"]}),(0,t.jsxs)("span",{className:"font-semibold",children:["€",B.oj.toFixed(2)]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Empaquetado global para tu pedido."})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-md hover:bg-muted/50 transition-colors",children:[(0,t.jsx)(P,{value:"premium",id:"premium-packaging"}),(0,t.jsxs)(F.J,{htmlFor:"premium-packaging",className:"flex-1 cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)(y.A,{className:"inline mr-2 h-5 w-5"}),"Packaging Premium"]}),(0,t.jsxs)("span",{className:"font-semibold",children:["€",B.cT.toFixed(2)," / vela"]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Cada vela empaquetada individualmente con un toque especial."})]})]})]})})]}),(0,t.jsxs)(z.Zp,{className:"mb-6 shadow-md",children:[(0,t.jsx)(z.aR,{className:"p-6 pb-0",children:(0,t.jsx)(z.ZB,{className:"text-xl",children:"Resumen de Costes"})}),(0,t.jsxs)(z.Wu,{className:"p-6 pt-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Subtotal:"})," ",(0,t.jsxs)("span",{children:["€",s.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("span",{children:["Packaging (","none"===x||0===e.length?"N/A":x,"):"]})," ",(0,t.jsxs)("span",{children:["€",a.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Env\xedo:"})," ",(0,t.jsxs)("span",{children:["€",Y.toFixed(2)]})]}),(0,t.jsx)(N,{className:"my-2"}),(0,t.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,t.jsx)("span",{children:"Total Estimado:"})," ",(0,t.jsxs)("span",{children:["€",c.toFixed(2)]})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground pt-2",children:[(0,t.jsx)(C.A,{size:14,className:"inline mr-1"}),"El coste de env\xedo final puede variar ligeramente seg\xfan el peso y volumen total."]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center p-4 bg-card rounded-lg shadow-md gap-4",children:[(0,t.jsx)("div",{className:"w-full sm:w-auto",children:(0,t.jsxs)(n.$,{variant:"outline",onClick:()=>{J.current=!1,U(!0)},disabled:0===e.length,className:"w-full sm:w-auto",children:[(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Vaciar Carrito (",W," ",1===W?"art\xedculo":"art\xedculos",")"]})}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6 w-full sm:w-auto sm:ml-auto",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-primary",children:["Total: €",c.toFixed(2)]}),(0,t.jsxs)(I,{open:D,onOpenChange:e=>{q(e),e||(J.current?J.current=!1:k(null))},children:[(0,t.jsx)(R,{asChild:!0,children:(0,t.jsx)(n.$,{onClick:()=>{k("MV-".concat(Date.now())),J.current=!1,q(!0)},size:"lg",className:"w-full sm:w-auto",disabled:0===e.length,children:"Realizar Pedido"})}),(0,t.jsxs)(O,{className:"max-w-2xl",children:[(0,t.jsx)(S,{children:(0,t.jsx)(V,{children:"Confirmaci\xf3n e Instrucciones del Pedido"})}),(0,t.jsx)(Z,{asChild:!0,children:(0,t.jsxs)("div",{className:"text-sm text-foreground space-y-3 mt-2 mb-4",children:[(0,t.jsxs)("p",{className:"mb-4",children:["Tu ID de Pedido es: ",(0,t.jsx)("span",{className:"font-bold",children:E}),". Para finalizar tu compra, por favor, sigue estos pasos:"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-lg font-semibold mr-4",children:"1"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-md font-semibold text-foreground mb-1",children:"Env\xeda un correo electr\xf3nico"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["A: ",(0,t.jsx)("span",{className:"font-medium text-foreground",children:B.Fk})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Asunto del correo: ",(0,t.jsx)("br",{}),(0,t.jsx)("code",{className:"text-xs bg-muted text-muted-foreground p-1 rounded block mt-1 break-all",children:"Nuevo Pedido - ID: ".concat(E)})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Cuerpo del correo: Copia y pega TODO el resumen del pedido que se muestra abajo."}),(0,t.jsx)("div",{className:"max-h-[20vh] overflow-y-auto py-1 mt-1",children:(0,t.jsx)("pre",{className:"text-xs whitespace-pre-wrap bg-muted p-3 rounded-md font-sans",children:G})})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-lg font-semibold mr-4",children:"2"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-md font-semibold text-foreground mb-1",children:"Realiza el Pago"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Importe TOTAL DEL PEDIDO: ",(0,t.jsxs)("span",{className:"font-medium text-foreground",children:["€",c.toFixed(2)]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"M\xe9todo: Bizum (el n\xfamero se te facilitar\xe1 por correo electr\xf3nico tras recibir tu email de pedido)."}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Importante - Concepto del Bizum (indica tu ID de pedido): ",(0,t.jsx)("br",{}),(0,t.jsx)("code",{className:"text-xs bg-muted text-muted-foreground p-1 rounded block mt-1 break-all",children:E})]})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-lg font-semibold mr-4",children:"3"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-md font-semibold text-foreground mb-1",children:"Confirmaci\xf3n"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tu pedido comenzar\xe1 a elaborarse una vez recibido tanto el correo electr\xf3nico como la confirmaci\xf3n del pago."})]})]})]})]})}),(0,t.jsxs)(L,{className:"flex flex-col-reverse sm:flex-row sm:justify-between",children:[(0,t.jsx)($,{onClick:()=>{q(!1),k(null)},className:"sm:mr-auto",children:"Cancelar"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mt-2 sm:mt-0",children:[(0,t.jsx)(n.$,{variant:"outline",onClick:K,children:"Copiar Instrucciones"}),(0,t.jsx)(M,{onClick:()=>{J.current=!0,q(!1),U(!0)},children:"Entendido, Continuar"})]})]})]})]}),(0,t.jsx)(I,{open:T,onOpenChange:s=>{if(0===e.length&&s&&E){U(!1),k(null);return}s?U(s):(J.current||k(null),U(!1))},children:(0,t.jsxs)(O,{children:[(0,t.jsxs)(S,{children:[(0,t.jsxs)(V,{className:"flex items-center",children:[(0,t.jsx)(b.A,{className:"h-5 w-5 mr-2 text-destructive"}),E?"Confirmar Pedido y Vaciar Carrito":"Vaciar Carrito"]}),(0,t.jsx)(Z,{children:E?(0,t.jsxs)(t.Fragment,{children:["Est\xe1s a punto de confirmar tu pedido con ID: ",(0,t.jsx)("span",{className:"font-semibold",children:E}),". Al continuar, tu carrito se vaciar\xe1 y deber\xe1s seguir las instrucciones enviando un correo electr\xf3nico para completar la compra.",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),"\xbfEst\xe1s seguro de que quieres proceder?"]}):"\xbfEst\xe1s seguro de que quieres vaciar todos los art\xedculos de tu carrito? Esta acci\xf3n no se puede deshacer."})]}),(0,t.jsxs)(L,{children:[(0,t.jsx)($,{onClick:()=>{U(!1),E&&k(null),J.current=!1},children:E?"No, Volver al Carrito":"Cancelar"}),(0,t.jsx)(M,{onClick:E?()=>{E&&(d(),j({title:"\xa1Instrucciones de Pedido Recibidas!",description:(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:["Tu ID de Pedido es: ",(0,t.jsx)("span",{className:"font-semibold",children:E}),"."]}),(0,t.jsxs)("p",{className:"mt-2",children:["Por favor, env\xeda ahora un correo electr\xf3nico a ",(0,t.jsx)("span",{className:"font-semibold",children:B.Fk})," con el resumen de tu pedido y este ID para finalizar la compra."]}),(0,t.jsx)("p",{className:"mt-1",children:"Tu pedido se procesar\xe1 una vez recibido el correo y el pago."})]}),action:(0,t.jsx)(g.A,{className:"h-5 w-5 text-green-500"}),duration:15e3})),U(!1),k(null)}:()=>{d(),U(!1),J.current=!1,k(null)},className:E?"bg-primary hover:bg-primary/90":"bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:E?"S\xed, Confirmar y Vaciar":"S\xed, Vaciar Carrito"})]})]})})]})]})]}):(0,t.jsx)(_,{})}function W(){return(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)(J,{})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[51,889,874,644,367,441,684,358],()=>s(7730)),_N_E=e.O()}]);